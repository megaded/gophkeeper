syntax = "proto3";

package keeper_proto;

option go_package = "proto/keeper";

message NewUserRequest{
    string login = 1;
    string password = 2;
}

message NewUserResponse{

}

message LoginRequest{
    string login = 1;
    string password = 2;
}

message LoginResponse{
    string token = 1;
}

message AddCredentialsRequest{
    string login = 1;
    string password = 2;
    string description = 3;
}

message AddCredentialsResponse{

}

message UploadBinaryFileRequest{
    string filename = 1;
    bytes content = 2;
    string description = 3;
    int64 size = 4;
}

message UploadBinaryFileResponse{

}

message DownloadBinaryFileRequest{
    int64 id = 1;
}

message DownloadBinaryFileResponse{
    string filename = 1;
    bytes content = 2;
}


message UserDataRequest{

}

message UserDataResponse{

}

service Keeper {
  rpc registration(NewUserRequest) returns (NewUserResponse);
  rpc login(LoginRequest) returns (LoginResponse);
  rpc addCredentials (AddCredentialsRequest) returns (AddCredentialsResponse);
  rpc uploadBinaryFile (stream UploadBinaryFileRequest) returns (UploadBinaryFileResponse);
  rpc downloadBinaryFile (DownloadBinaryFileRequest) returns (UploadBinaryFileResponse);
} 


